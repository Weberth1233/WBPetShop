<ui:composition xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:p="http://primefaces.org/ui" template="/WEB-INF/template.xhtml">

	<ui:define name="content">
		<h:form>
			<p:panel header="Clientes cadastrados" style="font-size:14pt;text-align:center;">
				<p:toolbar style="background-color:#fff;">
					<f:facet name="right">
						<p:commandButton action="cadcliente.xhtml?faces-redirect=true"
							value="Adicionar novo" icon="fa fa-plus" process="@this"
							update="@all">
						</p:commandButton>
					</f:facet>
				</p:toolbar>
				<p:dataTable id="tabela" value="#{clienteContoller.listaCliente}"
					var="obj" paginator="true" rows="5" lazy="true">
					<p:column>
						<f:facet name="header">Nome:</f:facet>
						<p:outputLabel value="#{obj.nome}" />
					</p:column>
					<p:column>
						<f:facet name="header">Data Nascimento:</f:facet>
						<p:outputLabel value="#{obj.dataNascimento}">
							<f:convertDateTime pattern="dd/MM/yyyy" />
						</p:outputLabel>
					</p:column>
					<p:column>
						<f:facet name="header">CPF:</f:facet>
						<p:outputLabel value="#{obj.cpf}" />
					</p:column>
					<p:column>
						<f:facet name="header">Numero:</f:facet>
						<p:outputLabel value="#{obj.numeroTelefone}" />
					</p:column>
					<p:column>
						<f:facet name="header">E-mail:</f:facet>
						<p:outputLabel value="#{obj.email}" />
					</p:column>
					<p:column>
						<f:facet name="header">Endereço:</f:facet>
						<p:outputLabel value="#{obj.endereco}" />
					</p:column>
					<p:column>
						<f:facet name="header">Ação:</f:facet>
						<center>
							<p:commandButton icon="fa fa-pencil-square"
								onclick="PF('dlg').show();"
								value="#{clienteContoller.editar(obj)}" />
						</center>
					</p:column>
				</p:dataTable>
			</p:panel>
			<p:dialog id="dialogo" header="Consulta Clientes" widgetVar="dlg" modal="true"
				width="25%" height="300">
				<p:panelGrid columns="2">
					<p:commandLink value="Nome: "
						actionListener="#{clienteContoller.abrirClienteListing}"
						update="@none" process="@this">
						<p:ajax event="dialogReturn"
							listener="#{clienteContoller.obterClienteListing}" update="@form" />
					</p:commandLink>

					<p:inputText id="name" style="border-radius:30px;" required="true"
						requiredMessage="Nome deve ser informado!"
						value="#{clienteContoller.entity.nome}"
						placeholder="Insira seu nome" />

					<h:outputLabel for="date" value="Data Nascimento:"
						style="font-weight:bold" />
					<p:inputMask id="date" style="border-radius:30px;"
						value="#{clienteContoller.entity.dataNascimento}" required="true"
						mask="99/99/9999" placeholder="dia/mês/ano" label="data">
						<f:convertDateTime pattern="dd/MM/yyyy" />
					</p:inputMask>

					<h:outputLabel for="cpf" value="CPF:" style="font-weight:bold" />
					<p:inputMask id="cpf" style="border-radius:30px;"
						value="#{clienteContoller.entity.cpf}" required="true"
						mask="999.999.999-99"
						requiredMessage="CPF não pode ser um campo nulo!" label="cpf"
						placeholder="000.000.000-00" />

					<h:outputLabel for="numero" value="Contato:"
						style="font-weight:bold" />
					<p:inputMask id="numero" style="border-radius:30px;"
						value="#{clienteContoller.entity.numeroTelefone}" required="true"
						mask="(99)99999-9999"
						requiredMessage="Contato não pode ser um campo nulo!"
						label="numero" placeholder="(99)99999-9999" />

					<h:outputLabel for="email" value="E-mail:" style="font-weight:bold" />
					<p:inputText id="email" style="border-radius:30px;"
						value="#{clienteContoller.entity.email}" required="true"
						requiredMessage="E-mail não pode ser um campo nulo!" label="email"
						placeholder="exemplo@hotmail.com" />
					<h:outputLabel for="endereco" value="endereco"
						style="font-weight:bold" />
					<p:inputText id="endereco" style="border-radius:30px;"
						value="#{clienteContoller.entity.endereco}" required="true"
						requiredMessage="Endereço não pode ser um campo nulo!"
						label="endereco" placeholder="Bairro alameda e lote" />
				</p:panelGrid>
				<p:toolbar>
					<f:facet name="left">
						<p:commandButton value="Salvar" icon="pi pi-check"
							prokçcess="@form" update="@form"
							action="#{clienteContoller.salvar}" />
					</f:facet>
					<f:facet name="right">
						<p:commandButton value="Excluir" icon="pi pi-trash"
							process="@this" update="dialogo"
							actionListener="#{clienteContoller.remover}">
							<p:confirm header="Confirmação" message="Deseja excluir?"
								icon="pi pi-exclamation-triangle" />
						</p:commandButton>
					</f:facet>
				</p:toolbar>
			</p:dialog>
		</h:form>
	</ui:define>
</ui:composition>
